function hide(e){for(let o=0;o<e.length;o++)$(e[o]).hide()}function enroll(e,o,t){$.ajax({method:"POST",url:"enroll",data:{name:e,period:o,teacher:t,_csrf:token},success:function(e){window.location.reload()},error:function(e){alert(JSON.stringify(e))}})}function addHomework(){const e=$("#homeworkName").val(),o=$("#homeworkDescription").val().replace(/\r?\n|\r/g," "),t=$("#homeworkDate").val();console.log(e),$.ajax({method:"POST",url:"addHomework",data:{homeworkName:e,description:o,duedate:t,name:className,period:classPeriod,teacher:classTeacher,_csrf:token},success:function(e){window.location.reload()},error:function(e){alert(JSON.stringify(e))}})}function addNotes(){const e=$("#notesText").val();$.ajax({method:"POST",url:"addNotes",data:{note:e,name:className,period:classPeriod,teacher:classTeacher,_csrf:token},success:function(e){window.location.reload()},error:function(e){alert(JSON.stringify(e))}})}function addQuestion(){const e=$("#question").val(),o=$("#anonymous").is(":checked");$.ajax({method:"POST",url:"addQuestion",data:{question:e,anonymous:o,name:className,period:classPeriod,teacher:classTeacher,_csrf:token},success:function(e){window.location.reload()},error:function(e){alert(JSON.stringify(e))}})}function addAnswer(e,o){const t=$(`#answer${o}`).val(),a=$(`#anonCheckbox${o}`).is(":checked");console.log(a),$.ajax({method:"POST",url:"addAnswer",data:{answer:t,anonymous:a,questionId:e,_csrf:token},success:function(e){window.location.reload()},error:function(e){alert(JSON.stringify(e))}})}Date.prototype.toDateInputValue=function(){const e=new Date(this);return e.setMinutes(this.getMinutes()-this.getTimezoneOffset()),e.toJSON().slice(0,10)},$(document).ready(()=>{hide(["#addHomework","#cancelQButton","#addQuestion","#notLoggedIn","#notEnrolled","#notEnrolledNotes","#notEnrolledQuestions","#addNotesForm"]),$(".notLoggedIn").remove(),$("#period").text(`Period ${classPeriod}`),$("#className").text(` ${className}`),$("#teacher").text(`Taught By: ${classTeacher}`),$("#date").val(Date.now().toDateString),hasEnrolled?($("#enroll").hide(),$("#unenroll").show()):($("#enroll").show(),$("#unenroll").hide(),$("#addHomework").remove(),$("#addNotesForm").remove(),$("#addQuestion").remove()),$("#addHomeworkBtn").click(()=>{$("#addHomeworkBtn").hide("fast"),isLoggedIn?hasEnrolled?$("#addHomework").show("fast"):$("#notEnrolled").show("fast"):$("#notLoggedIn").show("fast")}),$("#cancel").click(()=>{$("#addHomework").hide("fast"),$("#addHomeworkBtn").show("fast")}),isLoggedIn||$("#enroll").remove();let e;$("#date").change(()=>{e=Date.parse($("#date").val());for(let o=0;o<homeworkArray.length;o++)homeworkDueDate=Date.parse(homeworkArray[o].dueDate),e<=homeworkDueDate?(console.log("Yes"),$(`.homework${o+1}`).show("fast")):(console.log("No"),$(`.homework${o+1}`).hide("fast")),isNaN(e)&&$(".homeworkClass").show("fast")}),$("#date").val((new Date).toDateInputValue()),e=Date.parse($("#date").val());for(let o=0;o<homeworkArray.length;o++)homeworkDueDate=Date.parse(homeworkArray[o].dueDate),e>homeworkDueDate&&$(`.homework${o+1}`).hide();$("#homeworkDate").val((new Date).toDateInputValue()),$("#addNotesBtn").click(()=>{hasEnrolled?($("#addNotesForm").show("fast"),$("#addNotesBtn").hide("fast")):($("#addNotesBtn").hide("fast"),$("#notEnrolledNotes").show("fast"))}),$("#cancelNotes").click(()=>{$("#addNotesForm").hide("fast"),$("#addNotesBtn").show("fast")}),$("#notesDate").change(()=>{const e=Date.parse($("#notesDate").val());for(let o=0;o<notesArray.length;o++)e!==Date.parse(notesArray[o].date)?$(`.notes${o+1}`).hide("fast"):$(`.notes${o+1}`).show("fast");isNaN(e)&&$(".notesClass").show("fast")}),$("#addQButton").click(()=>{hasEnrolled?($("#addQuestion").show("fast"),$("#cancelQButton").show(),$("#addQButton").hide("fast")):($("#addQButton").hide("fast"),$("#notEnrolledQuestions").show("fast"))}),$("#cancelQButton").click(()=>{$("#addQuestion").hide("fast"),$("#addQButton").show("fast")}),$(".delNote").click(function(){const e=$(this),o=e.attr("noteId");$.ajax({method:"POST",url:"deleteNote",data:{noteId:o,_csrf:token},success:function(o){e.parent().hide("fast",()=>{e.parent().remove()})},error:function(e){alert(JSON.stringify(e))}})}),$(".qDelete").click(function(){const e=$(this),o=e.attr("questionId");$.ajax({method:"POST",url:"deleteQuestion",data:{qId:o,_csrf:token},success:function(o){e.parent().hide("fast",()=>{e.parent().remove()})},error:function(e){alert(JSON.stringify(e))}})}),$(".aDelete").click(function(){const e=$(this),o=e.attr("questionId"),t=e.attr("answerId");$.ajax({method:"POST",url:"deleteAnswer",data:{aId:t,qId:o,_csrf:token},success:function(o){e.parent().hide("fast",()=>{e.parent().remove()})},error:function(e){alert(JSON.stringify(e))}})}),$(".dHomework").click(function(){const e=$(this),o=e.attr("homeworkId");$.ajax({method:"POST",url:"deleteHomework",data:{hId:o,_csrf:token},success:function(){e.parent().hide("fast",()=>{e.parent().remove()})},error:function(e){alert(JSON.stringify(e))}})})});