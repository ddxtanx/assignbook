function ajaxPost(e,t,a){$.ajax({method:"POST",url:e,data:t,error:function(e){a(e,void 0)},success:function(e){a(void 0,e)}})}function addreminder(){const e=$("#reminder").val().replace(/\r?\n|\r/g," ");$.ajax({method:"POST",url:"addReminder",data:{reminder:e,_csrf:token},success:function(e){window.location.reload()},error:function(e){alert(JSON.stringify(e))}})}Date.dateDiff=function(e,t){const a=t-e;return Math.floor(a/864e5)},$(document).ready(()=>{$("#successFail").hide(),$(".notLoggedIn").remove(),$("#reminderForm").hide();let e;$("#date").change(()=>{e=Date.parse($("#date").val())+864e5;for(let t=0;t<homeworkArray.length;t++){const a=Date.parse(homeworkArray[t].dueDate);e===a?$(`#homework${t+1}`).show("fast"):$(`#homework${t+1}`).hide("fast"),isNaN(e)&&$(".homeworkClass").show("fast")}}),$(".checks").click(function(){const e=$(this),t=e.attr("homeworkId"),a=!$("#showCompleted").is(":checked");"completing"===(e.is(":checked")?"completing":"uncompleting")?ajaxPost("completeHomework",{homeworkId:t,action:"complete",_csrf:token},t=>{a&&e.parent().parent().hide("fast"),e.parent().parent().removeClass("notCompleted"),e.parent().parent().addClass("completed")},()=>{alert("ERROR")}):jQuery.ajax({type:"POST",url:"completeHomework",data:{homeworkId:t,action:"uncomplete",_csrf:token},success:function(){e.parent().parent().addClass("notCompleted"),e.parent().parent().removeClass("completed")}})});let t=!1;if($(".completed").hide(),$("#showCompleted").change(function(){$(this).is(":checked")?($(".completed").show("fast"),t=!0):($(".completed").hide("fast"),t=!1)}),$("#deleteCompleted").click(()=>{jQuery.ajax({type:"POST",url:"deleteCompleted",data:{_csrf:token},success:function(){$(".completed").hide("fast",()=>{$(".completed").remove()}),$("#successFail").show("fast"),setTimeout(()=>{$("#successFail").hide("fast")},3e3)},error:function(){$("#successFail").removeClass("alert-success"),$("#successFail").addClass("alert-danger"),$("#successFail").text("Something went wrong! Please contact gcc@ameritech.net for assistance"),$("#successFail").show("fast")}})}),0===classesArray.length){$("#classesDiv").append("<br/>"),$("#classesDiv").append("<h3 class='alert alert-info'> Make sure to enroll in your classes! You have to go to your classes' pages and enroll there!</h3>")}$("#reminderButton").click(()=>{$("#reminderButton").hide("fast"),$("#reminderForm").show("fast")}),$("#cancelReminder").click(()=>{$("#reminderButton").show("fast"),$("#reminderForm").hide("fast")}),$(".reminderChecks").click(function(){const e=$(this);ajaxPost("completeReminder",{reminderID:e.attr("reminderID"),_csrf:token},(t,a)=>{t&&alert(`error ${a}`),e.parent().parent().hide("fast",()=>{e.parent().parent().remove()})})});$(".search").change(()=>{const e=$("#nameSearchBar").val(),t=$("#teacherSearchBar").val(),a=$("#periodSearchBar").val();for(let s=0;s<classesArray.length;s++){const r=classesArray[s],o=""===e||r.className.includes(e),c=""===t||r.classTeacher.includes(t),n=""===a||r.classPeriod===a;o&&c&&n?$(`.class${s+1}`).show("fast"):$(`.class${s+1}`).hide("fast")}}),$(".duedate").each((e,t)=>{let a=t.attributes[1].value;const s=a.split("-");a=new Date(s[0],s[1]-1,s[2]);const r=new Date;let o=Date.dateDiff(r,a)+1;const c=o<0?"ago":"away",n=1===(o=Math.abs(o))?"day":"days",l=0===o?" Today":` ${o} ${n} ${c}`;t.innerText=t.innerText+l})});